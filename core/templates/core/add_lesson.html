{% extends 'core/base.html' %}

{% block title %}–î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto; padding: 2rem 1rem;">
    <div style="background: rgba(255,255,255,0.95); border-radius: 10px; padding: 2rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 2px solid #e2e8f0;">
            <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
                +
            </div>
            <div>
                <h1 style="color: #2d3748; margin: 0; font-size: 1.75rem;">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —É—Ä–æ–∫</h1>
                <p style="color: #718096; margin: 0.25rem 0 0;">–¢–µ–º–∞: {{ theme.title }}</p>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ -->
        <form method="post">
            {% csrf_token %}
            
            <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                <!-- –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞ -->
                <div>
                    <label for="{{ form.title.id_for_label }}" 
                           style="display: block; color: #2d3748; margin-bottom: 0.5rem; font-weight: 500; font-size: 1.1rem;">
                        –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞
                        <span style="color: #e53e3e;">*</span>
                    </label>
                    <input type="text" 
                           name="{{ form.title.name }}" 
                           id="{{ form.title.id_for_label }}" 
                           value="{{ form.title.value|default:'' }}"
                           required
                           style="width: 100%; padding: 0.75rem; border: 1px solid #cbd5e0; border-radius: 5px; font-size: 1rem;"
                           placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞">
                    {% if form.title.errors %}
                        <div style="color: #e53e3e; font-size: 0.875rem; margin-top: 0.25rem;">
                            {% for error in form.title.errors %}
                                <p style="margin: 0.25rem 0;">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <!-- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —É—Ä–æ–∫–∞ -->
                <div>
                    <label for="{{ form.content.id_for_label }}" 
                           style="display: block; color: #2d3748; margin-bottom: 0.5rem; font-weight: 500; font-size: 1.1rem;">
                        –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —É—Ä–æ–∫–∞
                        <span style="color: #e53e3e;">*</span>
                    </label>
                    <textarea name="{{ form.content.name }}" 
                              id="{{ form.content.id_for_label }}" 
                              required
                              rows="12"
                              style="width: 100%; padding: 0.75rem; border: 1px solid #cbd5e0; border-radius: 5px; font-size: 1rem; font-family: inherit; resize: vertical;"
                              placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —É—Ä–æ–∫–∞ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è HTML)">{{ form.content.value|default:'' }}</textarea>
                    {% if form.content.errors %}
                        <div style="color: #e53e3e; font-size: 0.875rem; margin-top: 0.25rem;">
                            {% for error in form.content.errors %}
                                <p style="margin: 0.25rem 0;">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                    <div style="color: #718096; font-size: 0.875rem; margin-top: 0.25rem;">
                        –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTML-—Ç–µ–≥–∏ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
                    </div>
                </div>

                <!-- –í–∏–¥–µ–æ URL -->
                <div>
                    <label for="{{ form.video_url.id_for_label }}" 
                           style="display: block; color: #2d3748; margin-bottom: 0.5rem; font-weight: 500; font-size: 1.1rem;">
                        –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ (YouTube, Vimeo –∏ –¥—Ä.)
                    </label>
                    <input type="url" 
                           name="{{ form.video_url.name }}" 
                           id="{{ form.video_url.id_for_label }}" 
                           value="{{ form.video_url.value|default:'' }}"
                           style="width: 100%; padding: 0.75rem; border: 1px solid #cbd5e0; border-radius: 5px; font-size: 1rem;"
                           placeholder="https://www.youtube.com/watch?v=...">
                    {% if form.video_url.errors %}
                        <div style="color: #e53e3e; font-size: 0.875rem; margin-top: 0.25rem;">
                            {% for error in form.video_url.errors %}
                                <p style="margin: 0.25rem 0;">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                    <div style="color: #718096; font-size: 0.875rem; margin-top: 0.25rem;">
                        –í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≤ —É—Ä–æ–∫
                    </div>
                </div>

                <!-- –ü–æ—Ä—è–¥–æ–∫ -->
                <div>
                    <label for="{{ form.order.id_for_label }}" 
                           style="display: block; color: #2d3748; margin-bottom: 0.5rem; font-weight: 500; font-size: 1.1rem;">
                        –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    </label>
                    <input type="number" 
                           name="{{ form.order.name }}" 
                           id="{{ form.order.id_for_label }}" 
                           value="{{ form.order.value|default:'0' }}"
                           min="0"
                           style="width: 100%; max-width: 200px; padding: 0.75rem; border: 1px solid #cbd5e0; border-radius: 5px; font-size: 1rem;">
                    {% if form.order.errors %}
                        <div style="color: #e53e3e; font-size: 0.875rem; margin-top: 0.25rem;">
                            {% for error in form.order.errors %}
                                <p style="margin: 0.25rem 0;">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                    <div style="color: #718096; font-size: 0.875rem; margin-top: 0.25rem;">
                        –ß–µ–º –º–µ–Ω—å—à–µ —á–∏—Å–ª–æ, —Ç–µ–º —Ä–∞–Ω—å—à–µ —É—Ä–æ–∫ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ
                    </div>
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div style="display: flex; justify-content: space-between; flex-wrap: wrap; gap: 1rem; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid #e2e8f0;">
                <a href="{% url 'theme_detail' theme.pk %}" 
                   style="display: inline-flex; align-items: center; padding: 0.75rem 1.5rem; background: #e2e8f0; color: #4a5568; text-decoration: none; border-radius: 5px; font-weight: 500;">
                    ‚Üê –û—Ç–º–µ–Ω–∞
                </a>
                
                <div style="display: flex; gap: 1rem;">
                    <button type="submit" 
                            name="save_and_add_another"
                            style="display: inline-flex; align-items: center; padding: 0.75rem 1.5rem; background: #ed8936; color: white; border: none; border-radius: 5px; font-weight: 500; cursor: pointer;">
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å –µ—â–µ
                    </button>
                    
                    <button type="submit" 
                            name="save"
                            style="display: inline-flex; align-items: center; padding: 0.75rem 1.5rem; background: #48bb78; color: white; border: none; border-radius: 5px; font-weight: 500; cursor: pointer;">
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —É—Ä–æ–∫
                    </button>
                </div>
            </div>
        </form>
    </div>

    <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∏ -->
    <div style="margin-top: 2rem; background: #ebf8ff; border-radius: 10px; padding: 1.5rem;">
        <h3 style="color: #2c5282; margin-bottom: 1rem; font-size: 1.1rem;">üí° –°–æ–≤–µ—Ç—ã –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —É—Ä–æ–∫–æ–≤</h3>
        <ul style="color: #2c5282; padding-left: 1.5rem; margin: 0;">
            <li style="margin-bottom: 0.5rem;">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞</li>
            <li style="margin-bottom: 0.5rem;">–î–æ–±–∞–≤–ª—è–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ HTML-—Ç–µ–≥ &lt;img&gt;</li>
            <li style="margin-bottom: 0.5rem;">–†–∞–∑–¥–µ–ª—è–π—Ç–µ —Ç–µ–∫—Å—Ç –Ω–∞ –∞–±–∑–∞—Ü—ã –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏</li>
            <li style="margin-bottom: 0.5rem;">–î–ª—è –≤–∏–¥–µ–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å—Å—ã–ª–∫–∏ —Å YouTube/Vimeo</li>
            <li>–£–∫–∞–∂–∏—Ç–µ –ø–æ—Ä—è–¥–æ–∫ —É—Ä–æ–∫–∞ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–∑—É—á–µ–Ω–∏—è</li>
        </ul>
    </div>
</div>

<style>
    input:focus, textarea:focus {
        outline: none;
        border-color: #667eea !important;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }
    
    button:hover, a:hover {
        opacity: 0.9;
        transform: translateY(-1px);
        transition: all 0.2s;
    }
</style>
{% endblock %}